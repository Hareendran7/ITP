 /*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package warehouse;

import Class.DBconnecter;
import Class.validation;
import Class.SupplierD;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JOptionPane;
import net.proteanit.sql.DbUtils;
/**
 *
 * @author Mudara Bandaranayake
 */
public class panelSupplier extends javax.swing.JPanel {

    /**
     * Creates new form panelSupplier
     */
public String supp_id="";
PreparedStatement pst=null;
ResultSet result=null;
Connection conn=null;
    public panelSupplier() {
        initComponents();
        conn=DBconnecter.connect();
        
        view_table();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        suppidField = new javax.swing.JLabel();
        compnameLabel = new javax.swing.JLabel();
        suppaddressLabel = new javax.swing.JLabel();
        suppmailLabel = new javax.swing.JLabel();
        contactLabel = new javax.swing.JLabel();
        suppnameLabel = new javax.swing.JLabel();
        categoryLabel = new javax.swing.JLabel();
        compnameField = new javax.swing.JTextField();
        jScrollPane1 = new javax.swing.JScrollPane();
        suppaddressField = new javax.swing.JTextArea();
        suppmailField = new javax.swing.JTextField();
        contactField = new javax.swing.JTextField();
        suppnameField = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        paydayfield = new javax.swing.JTextField();
        jLabel7 = new javax.swing.JLabel();
        suppidLabel = new javax.swing.JLabel();
        addsuppBtn = new javax.swing.JButton();
        removesuppBtn = new javax.swing.JButton();
        updatesuppBtn = new javax.swing.JButton();
        jScrollPane2 = new javax.swing.JScrollPane();
        jTable1 = new javax.swing.JTable();
        resetsuppBtn = new javax.swing.JButton();
        SMLabel = new javax.swing.JLabel();

        setBackground(new java.awt.Color(51, 51, 51));
        setPreferredSize(new java.awt.Dimension(867, 559));

        jPanel1.setBackground(new java.awt.Color(51, 51, 51));
        jPanel1.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        jPanel1.setPreferredSize(new java.awt.Dimension(600, 300));

        suppidField.setFont(new java.awt.Font("Calibri", 0, 18)); // NOI18N
        suppidField.setForeground(new java.awt.Color(255, 255, 255));

        compnameLabel.setFont(new java.awt.Font("Calibri", 0, 18)); // NOI18N
        compnameLabel.setForeground(new java.awt.Color(255, 255, 255));
        compnameLabel.setText("Company Name :");

        suppaddressLabel.setFont(new java.awt.Font("Calibri", 0, 18)); // NOI18N
        suppaddressLabel.setForeground(new java.awt.Color(255, 255, 255));
        suppaddressLabel.setText("Address :");

        suppmailLabel.setFont(new java.awt.Font("Calibri", 0, 18)); // NOI18N
        suppmailLabel.setForeground(new java.awt.Color(255, 255, 255));
        suppmailLabel.setText("E-mail :");

        contactLabel.setFont(new java.awt.Font("Calibri", 0, 18)); // NOI18N
        contactLabel.setForeground(new java.awt.Color(255, 255, 255));
        contactLabel.setText("Contact No:");

        suppnameLabel.setFont(new java.awt.Font("Calibri", 0, 18)); // NOI18N
        suppnameLabel.setForeground(new java.awt.Color(255, 255, 255));
        suppnameLabel.setText("Contact Person :");

        categoryLabel.setFont(new java.awt.Font("Calibri", 0, 18)); // NOI18N
        categoryLabel.setForeground(new java.awt.Color(255, 255, 255));
        categoryLabel.setText("PayDuration:");

        compnameField.setFont(new java.awt.Font("Calibri", 0, 18)); // NOI18N
        compnameField.setForeground(new java.awt.Color(51, 51, 51));
        compnameField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                compnameFieldKeyTyped(evt);
            }
        });

        suppaddressField.setColumns(20);
        suppaddressField.setFont(new java.awt.Font("Calibri", 0, 18)); // NOI18N
        suppaddressField.setForeground(new java.awt.Color(51, 51, 51));
        suppaddressField.setRows(5);
        suppaddressField.setPreferredSize(new java.awt.Dimension(50, 50));
        jScrollPane1.setViewportView(suppaddressField);

        suppmailField.setFont(new java.awt.Font("Calibri", 0, 18)); // NOI18N
        suppmailField.setForeground(new java.awt.Color(51, 51, 51));

        contactField.setFont(new java.awt.Font("Calibri", 0, 18)); // NOI18N
        contactField.setForeground(new java.awt.Color(51, 51, 51));

        suppnameField.setFont(new java.awt.Font("Calibri", 0, 18)); // NOI18N
        suppnameField.setForeground(new java.awt.Color(51, 51, 51));

        jLabel2.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel2.setForeground(new java.awt.Color(255, 0, 0));

        jLabel3.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel3.setForeground(new java.awt.Color(255, 0, 0));

        jLabel4.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel4.setForeground(new java.awt.Color(255, 0, 0));

        jLabel5.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel5.setForeground(new java.awt.Color(255, 0, 0));

        jLabel6.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel6.setForeground(new java.awt.Color(255, 0, 0));

        paydayfield.setFont(new java.awt.Font("Calibri", 0, 18)); // NOI18N
        paydayfield.setForeground(new java.awt.Color(51, 51, 51));

        jLabel7.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel7.setForeground(new java.awt.Color(255, 0, 0));

        suppidLabel.setFont(new java.awt.Font("Calibri", 0, 18)); // NOI18N
        suppidLabel.setForeground(new java.awt.Color(255, 255, 255));
        suppidLabel.setText("Supplier ID :");

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                                .addGap(36, 36, 36)
                                .addComponent(suppidLabel)
                                .addGap(31, 31, 31)
                                .addComponent(suppidField, javax.swing.GroupLayout.PREFERRED_SIZE, 153, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addGap(25, 25, 25)
                                .addComponent(suppaddressLabel)
                                .addGap(18, 18, 18)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(jLabel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 198, Short.MAX_VALUE))))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 150, Short.MAX_VALUE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(compnameLabel)
                        .addGap(45, 45, 45)))
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 138, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addComponent(contactLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 98, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(56, 56, 56)
                                .addComponent(contactField, javax.swing.GroupLayout.PREFERRED_SIZE, 222, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(compnameField, javax.swing.GroupLayout.PREFERRED_SIZE, 138, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addComponent(suppnameLabel)
                                .addGap(35, 35, 35)
                                .addComponent(suppnameField, javax.swing.GroupLayout.PREFERRED_SIZE, 220, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addComponent(categoryLabel)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(paydayfield, javax.swing.GroupLayout.PREFERRED_SIZE, 220, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel4, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 219, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel5, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 220, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel7, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 220, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel6, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 220, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addComponent(suppmailLabel)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(suppmailField, javax.swing.GroupLayout.PREFERRED_SIZE, 219, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap())
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(21, 21, 21)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(compnameLabel, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(compnameField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 12, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(23, 23, 23)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(suppmailLabel)
                                .addComponent(suppidLabel))
                            .addComponent(suppidField, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addGap(20, 20, 20))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(suppmailField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 14, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(suppaddressLabel)
                        .addGap(105, 105, 105))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(18, 18, 18)
                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                        .addGap(18, 18, 18)
                        .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(30, 30, 30))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(3, 3, 3)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(contactField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(contactLabel))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 16, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(suppnameField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(suppnameLabel))
                        .addGap(7, 7, 7)
                        .addComponent(jLabel7, javax.swing.GroupLayout.PREFERRED_SIZE, 18, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(paydayfield, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(categoryLabel))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 18, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 8, Short.MAX_VALUE))))
        );

        addsuppBtn.setBackground(new java.awt.Color(51, 51, 51));
        addsuppBtn.setFont(new java.awt.Font("Calibri", 0, 18)); // NOI18N
        addsuppBtn.setForeground(new java.awt.Color(255, 255, 255));
        addsuppBtn.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Images/new-file-icon.png"))); // NOI18N
        addsuppBtn.setText("Add");
        addsuppBtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                addsuppBtnActionPerformed(evt);
            }
        });

        removesuppBtn.setBackground(new java.awt.Color(51, 51, 51));
        removesuppBtn.setFont(new java.awt.Font("Calibri", 0, 18)); // NOI18N
        removesuppBtn.setForeground(new java.awt.Color(255, 255, 255));
        removesuppBtn.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Images/Actions-edit-delete-icon.png"))); // NOI18N
        removesuppBtn.setText("Remove");
        removesuppBtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                removesuppBtnActionPerformed(evt);
            }
        });

        updatesuppBtn.setBackground(new java.awt.Color(51, 51, 51));
        updatesuppBtn.setFont(new java.awt.Font("Calibri", 0, 18)); // NOI18N
        updatesuppBtn.setForeground(new java.awt.Color(255, 255, 255));
        updatesuppBtn.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Images/Actions-edit-undo-icon.png"))); // NOI18N
        updatesuppBtn.setText("Update");
        updatesuppBtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                updatesuppBtnActionPerformed(evt);
            }
        });

        jTable1.setBackground(new java.awt.Color(51, 51, 51));
        jTable1.setFont(new java.awt.Font("Calibri", 0, 18)); // NOI18N
        jTable1.setForeground(new java.awt.Color(255, 255, 255));
        jTable1.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null}
            },
            new String [] {
                "SupplierID", "CompanyName", "Address", "Email", "Contact", "Person", "Category"
            }
        ));
        jScrollPane2.setViewportView(jTable1);

        resetsuppBtn.setBackground(new java.awt.Color(51, 51, 51));
        resetsuppBtn.setFont(new java.awt.Font("Calibri", 0, 18)); // NOI18N
        resetsuppBtn.setForeground(new java.awt.Color(255, 255, 255));
        resetsuppBtn.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Images/Actions-edit-undo-icon.png"))); // NOI18N
        resetsuppBtn.setText("Reset");
        resetsuppBtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                resetsuppBtnActionPerformed(evt);
            }
        });

        SMLabel.setFont(new java.awt.Font("Calibri", 1, 18)); // NOI18N
        SMLabel.setForeground(new java.awt.Color(255, 255, 255));
        SMLabel.setText("Supplier Management");

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane2)
                    .addGroup(layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                                .addComponent(addsuppBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 122, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(117, 117, 117)
                                .addComponent(removesuppBtn)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(resetsuppBtn)
                                .addGap(121, 121, 121)
                                .addComponent(updatesuppBtn))
                            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, 847, Short.MAX_VALUE))))
                .addContainerGap())
            .addGroup(layout.createSequentialGroup()
                .addGap(292, 292, 292)
                .addComponent(SMLabel)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(13, 13, 13)
                .addComponent(SMLabel)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, 329, Short.MAX_VALUE)
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(addsuppBtn)
                    .addComponent(removesuppBtn)
                    .addComponent(resetsuppBtn)
                    .addComponent(updatesuppBtn))
                .addGap(32, 32, 32)
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 86, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
    }// </editor-fold>//GEN-END:initComponents

    
    private void view_table()
    {
        try{
            String sql = "select supp_id as 'Supplier ID', comp_name as 'Company', supp_address as 'Address', supp_contact as 'Contact No',supp_name as 'Supplier name', supp_mail as 'E-mail', supp_paydays as 'Pay Days' from supplier";
            pst = conn.prepareStatement(sql);
            result = pst.executeQuery(sql);
            jTable1.setModel(DbUtils.resultSetToTableModel(result));
            
        }
        catch(Exception e)
        {
            JOptionPane.showMessageDialog(null, "Error connecting to Supplier table"+e);
            System.out.println(e);
        }
        
       
            
    }
    
    
    
    
    
    
    public void generateSuppID(){
           try{
            String qry="SELECT supp_id FROM supplier ORDER BY supp_id DESC LIMIT 1";
            pst=conn.prepareStatement(qry);
            result=pst.executeQuery();
            if(result.next())
            {
                String r1=result.getString("supp_id");
                int ln=r1.length();
                String stxt=r1.substring(0,3);
                String snum=r1.substring(3,ln);
                int n=Integer.parseInt(snum);
                n++;
                snum=Integer.toString(n);
              
       supp_id=stxt+snum;
            }
               else
            {
        supp_id= "sup123";
            }
            
        }
        catch(Exception e){
        JOptionPane.showMessageDialog(null,"Couldn't Generate SuppID.","Warning",
            JOptionPane.WARNING_MESSAGE);
        }  
        }
    
   
    private void addsuppBtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_addsuppBtnActionPerformed
        // TODO add your handling code here:
        jLabel2.setText("");
        jLabel3.setText("");
        jLabel4.setText("");
        jLabel5.setText("");
        jLabel6.setText("");
        jLabel7.setText("");
        SupplierD supplier=new SupplierD();
        validation valid=new validation();
        if(compnameField.getText().equals("") || suppaddressField.getText().equals("") || contactField.getText().equals("") || suppnameField.getText().equals("") || suppmailField.getText().equals("") || paydayfield.getText().equals("")){
        valid.isBlank(compnameField.getText(),jLabel2);
        valid.isBlank(suppaddressField.getText(),jLabel3);
        valid.isBlank(contactField.getText(),jLabel5);
        valid.isBlank(suppnameField.getText(),jLabel7);
        valid.isBlank(suppmailField.getText(),jLabel4);
        valid.isBlank(paydayfield.getText(),jLabel6);
        }
        else if(!valid.validateNumber(contactField.getText()) || contactField.getText().length()!=10){
            jLabel5.setText("Please Enter a Valid contact");
            }
            else if(!valid.validateNumber(paydayfield.getText())){
            jLabel6.setText("Please Enter a Valid Number");
            }
            /*else if(!valid.emailValidate(suppmailField.getText())){
            jLabel4.setText("Please Enter a Valid E-mail");
            }*/
            else if(!valid.validateName(suppnameField.getText())){
            jLabel7.setText("Please Enter a Valid Name");
            }       
        else{
        generateSuppID();
        suppidField.setText(supp_id);
        supplier.setsupp_id(suppidField.getText());
        supplier.setcomp_name(compnameField.getText());
        supplier.setsupp_address(suppaddressField.getText());
        supplier.setsupp_contact(contactField.getText());
        supplier.setsupp_name(suppnameField.getText());
        supplier.setsupp_mail(suppmailField.getText());
        supplier.setsupp_paydays(paydayfield.getText());
        supplier.insert();
        ResultSet result=supplier.searchAll();
        try {
                jTable1.setModel(DbUtils.resultSetToTableModel(result));    
                
        } 
        catch (Exception ex) {
            Logger.getLogger(panelSupplier.class.getName()).log(Level.SEVERE, null, ex);
            
        }
                compnameField.setText("");
                suppidField.setText("");
                suppaddressField.setText("");
                contactField.setText("");
                suppnameField.setText("");
                suppmailField.setText("");
                paydayfield.setText("");
    }
    
    }//GEN-LAST:event_addsuppBtnActionPerformed

    private void removesuppBtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_removesuppBtnActionPerformed
        // TODO add your handling code here:
        validation valid=new validation();
        if(compnameField.getText().equals("")){
        valid.isBlank(compnameField.getText(),jLabel2);
        }
        else{
        SupplierD supplier=new SupplierD();
        int n = JOptionPane.showConfirmDialog(
                            null, "Are You Sure You Want To Delete?",
                            "Delete?",
                            JOptionPane.YES_NO_OPTION);
                if (n == JOptionPane.YES_OPTION) {
                 supplier.remove(compnameField.getText());
                 } else  {
                    JOptionPane.showMessageDialog(null,"Record Not Removed.","Action Successful",
                JOptionPane.PLAIN_MESSAGE);
                    
                }  
        ResultSet result=supplier.searchAll();
        try {
                jTable1.setModel(DbUtils.resultSetToTableModel(result));
            }
        catch (Exception ex) {
            Logger.getLogger(panelSupplier.class.getName()).log(Level.SEVERE, null, ex);
            
        }
                compnameField.setText("");
                suppidField.setText("");
                suppaddressField.setText("");
                contactField.setText("");
                suppnameField.setText("");
                suppmailField.setText("");
                paydayfield.setText("");
        }
        
    }//GEN-LAST:event_removesuppBtnActionPerformed

    private void updatesuppBtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_updatesuppBtnActionPerformed
        // TODO add your handling code here:
        jLabel2.setText("");
        jLabel3.setText("");
        jLabel4.setText("");
        jLabel5.setText("");
        jLabel6.setText("");
        jLabel7.setText("");
        SupplierD supplier=new SupplierD();
       validation valid=new validation();
        if(compnameField.getText().equals("") || suppaddressField.getText().equals("") || contactField.getText().equals("") || suppnameField.getText().equals("") || suppmailField.getText().equals("") || paydayfield.getText().equals("")){
        valid.isBlank(compnameField.getText(),jLabel2);
        valid.isBlank(suppaddressField.getText(),jLabel3);
        valid.isBlank(contactField.getText(),jLabel5);
        valid.isBlank(suppnameField.getText(),jLabel7);
        valid.isBlank(suppmailField.getText(),jLabel4);
        valid.isBlank(paydayfield.getText(),jLabel6);
        }
        else if(!valid.validateNumber(contactField.getText()) || contactField.getText().length()!=10){
            jLabel5.setText("Please Enter a Valid contact");
            }
            else if(!valid.validateNumber(paydayfield.getText())){
            jLabel6.setText("Please Enter a Valid Number");
            }
            else if(!valid.emailValidate(suppmailField.getText())){
            jLabel4.setText("Please Enter a Valid E-mail");
            }
            else if(!valid.validateName(suppnameField.getText())){
            jLabel7.setText("Please Enter a Valid Name");
            }   
            else{
        supplier.setcomp_name(compnameField.getText());
        supplier.setsupp_address(suppaddressField.getText());
        supplier.setsupp_contact(contactField.getText());
        supplier.setsupp_name(suppnameField.getText());
        supplier.setsupp_mail(suppmailField.getText());
        supplier.setsupp_paydays(paydayfield.getText());
        supplier.update(suppidField.getText());
        ResultSet result=supplier.search(compnameField.getText());
        try {
                jTable1.setModel(DbUtils.resultSetToTableModel(result));
                }
       catch (Exception ex) {
            Logger.getLogger(panelSupplier.class.getName()).log(Level.SEVERE, null, ex); 
        }
                compnameField.setText("");
                suppidField.setText("");
                suppaddressField.setText("");
                contactField.setText("");
                suppnameField.setText("");
                suppmailField.setText("");
                paydayfield.setText("");
      }
    }//GEN-LAST:event_updatesuppBtnActionPerformed

    private void compnameFieldKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_compnameFieldKeyTyped
        // TODO add your handling code here:
        SupplierD supplier=new SupplierD();
        ResultSet result1=supplier.loadData(compnameField.getText());
        try {
            while(result1.next()){
                String supp_id  = result1.getString("supp_id");
                String supp_address  = result1.getString("supp_address");
                String supp_contact = result1.getString("supp_contact");
                String supp_name  = result1.getString("supp_name");
                String supp_mail  = result1.getString("supp_mail");
                String supp_paydays=result1.getString("supp_paydays");
                suppidField.setText(supp_id);
                suppaddressField.setText(supp_address);
                contactField.setText(supp_contact);
                suppnameField.setText(supp_name);
                suppmailField.setText(supp_mail);
                paydayfield.setText(supp_paydays);
            }
        } catch (SQLException ex) {
            Logger.getLogger(panelSupppayment.class.getName()).log(Level.SEVERE, null, ex);
            
        }
         ResultSet result=supplier.search(compnameField.getText());
        try {
                jTable1.setModel(DbUtils.resultSetToTableModel(result));
            }
        catch (Exception ex) {
            Logger.getLogger(panelSupplier.class.getName()).log(Level.SEVERE, null, ex);
            
        }
    }//GEN-LAST:event_compnameFieldKeyTyped

    private void resetsuppBtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_resetsuppBtnActionPerformed
        // TODO add your handling code here:
                compnameField.setText("");
                suppidField.setText("");
                suppaddressField.setText("");
                contactField.setText("");
                suppnameField.setText("");
                suppmailField.setText("");
                paydayfield.setText("");
                
    }//GEN-LAST:event_resetsuppBtnActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel SMLabel;
    private javax.swing.JButton addsuppBtn;
    private javax.swing.JLabel categoryLabel;
    private javax.swing.JTextField compnameField;
    private javax.swing.JLabel compnameLabel;
    private javax.swing.JTextField contactField;
    private javax.swing.JLabel contactLabel;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JTable jTable1;
    private javax.swing.JTextField paydayfield;
    private javax.swing.JButton removesuppBtn;
    private javax.swing.JButton resetsuppBtn;
    private javax.swing.JTextArea suppaddressField;
    private javax.swing.JLabel suppaddressLabel;
    private javax.swing.JLabel suppidField;
    private javax.swing.JLabel suppidLabel;
    private javax.swing.JTextField suppmailField;
    private javax.swing.JLabel suppmailLabel;
    private javax.swing.JTextField suppnameField;
    private javax.swing.JLabel suppnameLabel;
    private javax.swing.JButton updatesuppBtn;
    // End of variables declaration//GEN-END:variables
}
